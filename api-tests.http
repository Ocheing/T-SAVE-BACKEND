### ============================================
### TSAVE BACKEND API TESTS
### ============================================

@baseUrl = http://localhost:3000

### 1. HEALTH CHECK
GET {{baseUrl}}/health

### 2. GET TRIPS (Public endpoint)
GET {{baseUrl}}/trips

### 3. AUTH - REGISTER TEST USER
# @name register
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "test.user@example.com",
  "password": "TestPass123!",
  "name": "Test User"
}

### 4. AUTH - LOGIN (if user exists)
# @name login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "test.user@example.com",
  "password": "TestPass123!"
}

### 5. SAVE AUTH TOKEN
@authToken = {{login.response.body.access_token}}

### ============================================
### MODULE TESTS (Run after getting token)
### ============================================

### 6. DASHBOARD MODULE
GET {{baseUrl}}/dashboard
Authorization: Bearer {{authToken}}

### 7. CREATE TEST TRIP
# @name createTrip
POST {{baseUrl}}/trips
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
  "title": "Beach Paradise Getaway",
  "destination": "Diani Beach",
  "description": "Relaxing beach vacation",
  "budgetRange": "moderate",
  "category": "beach"
}

### 8. GET SAVINGS
GET {{baseUrl}}/savings
Authorization: Bearer {{authToken}}

### 9. GET BOOKINGS
GET {{baseUrl}}/bookings
Authorization: Bearer {{authToken}}

### 10. GET WISHLIST
GET {{baseUrl}}/wishlist
Authorization: Bearer {{authToken}}
